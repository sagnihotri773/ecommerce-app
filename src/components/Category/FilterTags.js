import React from 'react'
import { useFilter } from '../Util/context/FilterContext';

export default function FilterTags() {
    const { selectedFilters = {}, removeFilter, removeAllFilter } = useFilter();

    if (!Object.keys(selectedFilters).length) return null;
    return (
        <div className="flex flex-wrap items-center gap-2 pb-4">
            {Object.entries(selectedFilters).map(([attributeCode, { value, label }]) => (
                <div
                    key={attributeCode}
                    className="flex items-center gap-1 px-3 py-1.5 bg-[#E4E4E4] text-sm"
                >
                    <button
                        onClick={() => removeFilter(attributeCode)}
                        className="p-0.5 hover:bg-gray-200"
                    >
                        <svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" viewBox="0 0 21 20" fill="none">
                            <path d="M3.56107 18.0451L4.00191 17.4383L3.56107 18.0451ZM2.45491 16.9389L3.06168 16.4981L2.45491 16.9389ZM18.5451 16.9389L17.9383 16.4981L18.5451 16.9389ZM17.4389 18.0451L16.9981 17.4383L17.4389 18.0451ZM17.4389 1.95491L16.9981 2.56168L17.4389 1.95491ZM18.5451 3.06107L17.9383 3.50191L18.5451 3.06107ZM3.56107 1.95491L4.00191 2.56168L3.56107 1.95491ZM2.45491 3.06107L3.06168 3.50191L2.45491 3.06107ZM8.03033 6.71231C7.73744 6.41942 7.26256 6.41942 6.96967 6.71231C6.67678 7.0052 6.67678 7.48008 6.96967 7.77297L8.03033 6.71231ZM12.9697 13.773C13.2626 14.0659 13.7374 14.0659 14.0303 13.773C14.3232 13.4801 14.3232 13.0052 14.0303 12.7123L12.9697 13.773ZM6.96967 12.7123C6.67678 13.0052 6.67678 13.4801 6.96967 13.773C7.26256 14.0659 7.73744 14.0659 8.03033 13.773L6.96967 12.7123ZM14.0303 7.77297C14.3232 7.48008 14.3232 7.0052 14.0303 6.71231C13.7374 6.41942 13.2626 6.41942 12.9697 6.71231L14.0303 7.77297ZM10.5 18.25C8.60843 18.25 7.24999 18.249 6.19804 18.135C5.16013 18.0225 4.50992 17.8074 4.00191 17.4383L3.12023 18.6518C3.92656 19.2377 4.87094 19.5 6.03648 19.6263C7.18798 19.751 8.64184 19.75 10.5 19.75V18.25ZM0.75 10C0.75 11.8582 0.748971 13.312 0.873728 14.4635C1.00001 15.6291 1.26232 16.5734 1.84815 17.3798L3.06168 16.4981C2.69259 15.9901 2.47745 15.3399 2.365 14.302C2.25103 13.25 2.25 11.8916 2.25 10H0.75ZM4.00191 17.4383C3.64111 17.1762 3.32382 16.8589 3.06168 16.4981L1.84815 17.3798C2.20281 17.8679 2.63209 18.2972 3.12023 18.6518L4.00191 17.4383ZM18.75 10C18.75 11.8916 18.749 13.25 18.635 14.302C18.5225 15.3399 18.3074 15.9901 17.9383 16.4981L19.1518 17.3798C19.7377 16.5734 20 15.6291 20.1263 14.4635C20.251 13.312 20.25 11.8582 20.25 10H18.75ZM10.5 19.75C12.3582 19.75 13.812 19.751 14.9635 19.6263C16.1291 19.5 17.0734 19.2377 17.8798 18.6518L16.9981 17.4383C16.4901 17.8074 15.8399 18.0225 14.802 18.135C13.75 18.249 12.3916 18.25 10.5 18.25V19.75ZM17.9383 16.4981C17.6762 16.8589 17.3589 17.1762 16.9981 17.4383L17.8798 18.6518C18.3679 18.2972 18.7972 17.8679 19.1518 17.3798L17.9383 16.4981ZM10.5 1.75C12.3916 1.75 13.75 1.75103 14.802 1.865C15.8399 1.97745 16.4901 2.19259 16.9981 2.56168L17.8798 1.34815C17.0734 0.762324 16.1291 0.500006 14.9635 0.373728C13.812 0.248971 12.3582 0.25 10.5 0.25V1.75ZM20.25 10C20.25 8.14184 20.251 6.68798 20.1263 5.53648C20 4.37094 19.7377 3.42656 19.1518 2.62023L17.9383 3.50191C18.3074 4.00992 18.5225 4.66013 18.635 5.69804C18.749 6.74999 18.75 8.10843 18.75 10H20.25ZM16.9981 2.56168C17.3589 2.82382 17.6762 3.14111 17.9383 3.50191L19.1518 2.62023C18.7972 2.13209 18.3679 1.70281 17.8798 1.34815L16.9981 2.56168ZM10.5 0.25C8.64184 0.25 7.18798 0.248971 6.03648 0.373728C4.87094 0.500006 3.92656 0.762324 3.12023 1.34815L4.00191 2.56168C4.50992 2.19259 5.16013 1.97745 6.19804 1.865C7.24999 1.75103 8.60843 1.75 10.5 1.75V0.25ZM2.25 10C2.25 8.10843 2.25103 6.74999 2.365 5.69804C2.47745 4.66013 2.69259 4.00992 3.06168 3.50191L1.84815 2.62023C1.26232 3.42656 1.00001 4.37094 0.873728 5.53648C0.748971 6.68798 0.75 8.14184 0.75 10H2.25ZM3.12023 1.34815C2.63209 1.70281 2.20281 2.13209 1.84815 2.62023L3.06168 3.50191C3.32382 3.14111 3.64111 2.82382 4.00191 2.56168L3.12023 1.34815ZM6.96967 7.77297L12.9697 13.773L14.0303 12.7123L8.03033 6.71231L6.96967 7.77297ZM8.03033 13.773L14.0303 7.77297L12.9697 6.71231L6.96967 12.7123L8.03033 13.773Z" fill="#272829"></path>
                        </svg>
                        <span className="sr-only">Remove filter</span>
                    </button>
                    <span className="">{attributeCode}:</span>
                    <span className="font-medium">{label === 'price' ? `${value[0]} - ${value[1]}` : label}</span>
                </div>
            ))}
            <button
                onClick={removeAllFilter}
                className="text-red-500 hover:text-red text-base font-medium"
            >
                Clear all
            </button>
        </div>
    )
}
